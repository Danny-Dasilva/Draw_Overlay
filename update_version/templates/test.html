<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hello Bulma!</title>
    <link rel="stylesheet" href="../static/css/bulma.css">
    <!-- <link rel="stylesheet" href="static/css/bulma.css"> -->
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
  </head>
  <body>
  <section class="section">
    <div class="dropdown" id="myDropdown">
        <div class="dropdown-trigger">
          <button class="button" onclick=myFunction() aria-controls="dropdown-menu2">
            <span>Wifi <i class="fas fa-wifi"></i> </span>
            <span class="icon is-small">
              <i class="fas fa-angle-down" aria-hidden="true"></i>
            </span>
          </button>
        </div>
        <div class="dropdown-menu" id="dropdown-menu2" role="menu">
          <div class="dropdown-content" id="dropdown-content">
            <div id="open-modal"  class="dropdown-item">
              <p>One-Wifi <i class="fas fa-lock is-pulled-right"></i> </p>
            </div>
            <hr class="dropdown-divider">
            <div id="open-modal" class="dropdown-item" href="/static">
                
              <p>TechGarage-6 <i class="fas fa-lock is-pulled-right"></i> </p>
            </div>
            <hr class="dropdown-divider">
                <a id="open-modal" class="dropdown-item" href="">Open modal <i class="fas fa-lock is-pulled-right"> </i> </a>
            </a>
          </div>
        </div>
      </div>
  </section>

  

  <div class="modal">
    <div class="modal-background"></div>
    <div class="modal-content">
        <form action="" class="box">
            <div class="field">
              <label for="" class="label">Password</label>
              <div class="control has-icons-left">
                <input type="password" placeholder="*******" class="input" required>
                <span class="icon is-small is-left">
                  <i class="fa fa-lock"></i>
                </span>
              </div>
            </div>
            <div class="field">
              
              <button onclick=closeModal()  aria-label="close" class="button">Cancel</button>

              <button class="button is-success"> Submit</button>

            </div>
          </form>
    </div>
  </div>
  </div>





           
        

  </body>



  <script>


var connections = [
    { SSID: "xfinitywifi", SECURITY: "WPA2", SIGNAL: "20" },
    { SSID: "Phone", SECURITY: "WPA2", SIGNAL: "100" },
    { SSID: "Address", SECURITY: "WPA2", SIGNAL: "30" },
    { SSID: "Zip", SECURITY: "WPA2", SIGNAL: "40" },
    { SSID: "Comments", SECURITY: "WPA2", SIGNAL: "50" }
];
for (var i = 0; i < connections.length; i += 1) {
    console.log(connections[i].SSID)
    const div = document.createElement('a');

    div.className = 'dropdown-item';
    div.id = 'open-modal';
    div.innerHTML = `${ connections[i].SSID}<i class="fas fa-lock is-pulled-right"> </i> `;
    document.getElementById('dropdown-content').appendChild(div);

}

      function myFunction() {
   
  var element = document.getElementById("myDropdown");
  var contains = element.classList.contains("is-active")

  switch(contains) {
  case true:
    element.classList.remove("is-active");
    break;
  case false:
    element.classList.add("is-active");
    break;
  default:
    // code block
    } 

}


function closeModal() {
    var modal = document.querySelector('.modal');  // assuming you have only 1
    var html = document.querySelector('html');
    modal.classList.remove('is-active');
    html.classList.remove('is-clipped');


}

const cbox = document.querySelectorAll('a#open-modal')

 for (let i = 0; i < cbox.length; i++) {
    cbox[i].addEventListener('click', function(event) {
        var modal = document.querySelector('.modal');  // assuming you have only 1
        var html = document.querySelector('html');
        modal.classList.add('is-active');
        html.classList.add('is-clipped');
        console.log(modal)
        modal.querySelector('.modal-background').addEventListener('click', function(e) {
        e.preventDefault();
        modal.classList.remove('is-active');
        html.classList.remove('is-clipped');
    });
 })
 }
// document.querySelectorAll('a#open-modal').addEventListener('click', function(event) {
//   event.preventDefault();
//   var modal = document.querySelectorAll('.modal');  // assuming you have only 1
//   var html = document.querySelector('html');
//   modal.classList.add('is-active');
//   html.classList.add('is-clipped');
//   console.log(modal)
//   modal.querySelector('.modal-background').addEventListener('click', function(e) {
//     e.preventDefault();
//     modal.classList.remove('is-active');
//     html.classList.remove('is-clipped');
//   });
// });




  </script>
  </html>